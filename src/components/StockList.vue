<template>
  <div class="sse-container">
    <h3> ìƒìœ„ ì–¸ê¸‰ ì¢…ëª©</h3>
    <h4> {{today}} ê¸°ì¤€ </h4>
    <ul>
      <li v-for="(stock, index) in topStocks" :key="index">
        {{numberIcons[index]}} {{ stock.key }} - {{ stock.value }}íšŒ
      </li>
    </ul>
  </div>
</template>
  
<script setup>
import { storeToRefs } from "pinia";
import { useSseStore } from "@/stores/sseStore";
import { ref } from 'vue';
import { IconNumber10 } from '@tabler/icons-vue';

const today = ref(new Intl.DateTimeFormat("ko-KR").format(new Date()));
const sseStore = useSseStore();
const { topStocks } = storeToRefs(sseStore); // Pinia storeì—ì„œ topStocks ê°€ì ¸ì˜¤ê¸°

const numberIcons = [
"1ï¸âƒ£", "2ï¸âƒ£", "3ï¸âƒ£", "4ï¸âƒ£", "5ï¸âƒ£", 
"6ï¸âƒ£", "7ï¸âƒ£", "8ï¸âƒ£", "9ï¸âƒ£", "ğŸ”Ÿ"
];
</script>
  
<style scoped>
.sse-container {
  border: 1px solid #ddd;
  padding: 20px;
  border-radius: 8px;
  background: #f9f9f9;
  position: sticky;
  top: 200px; /* Keep top at 0 to enable sticky behavior */
  width: 180px;
  display: flex;
  flex-direction: column;
  max-height: 500px;
}

.sse-container h3 {
  margin: 0;
  padding-bottom: 10px;
  
}

.sse-container ul {
  overflow-y: auto;
  flex-grow: 1;
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.sse-container li {
  padding: 5px 0;
}
</style>
  